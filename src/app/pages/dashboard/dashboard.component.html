<div class="dashboard-container">
  <div class="dashboard-header">
    <div>
      <h1>Dashboard</h1>
      <p class="subtitle">Bienvenido, <strong>{{ usuarioNombre() }}</strong></p>
      <p class="empresa-info">{{ empresaNombre() }}</p>
    </div>
  </div>

  @if (loading()) {
    <div class="loading">
      <div class="spinner"></div>
      <p>Cargando estadísticas...</p>
    </div>
  } @else if (error()) {
    <div class="error">{{ error() }}</div>
  } @else {
    <!-- Estadísticas -->
    <div class="stats-grid">
      <div class="stat-card primary">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
            <path d="M2 17l10 5 10-5M2 12l10 5 10-5"/>
          </svg>
        </div>
        <div class="stat-content">
          <h3>{{ stats().totalProcesos }}</h3>
          <p>Procesos Totales</p>
        </div>
      </div>

      <div class="stat-card warning">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
          </svg>
        </div>
        <div class="stat-content">
          <h3>{{ stats().procesosBorrador }}</h3>
          <p>En Borrador</p>
        </div>
      </div>

      <div class="stat-card success">
        <div class="stat-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 11 12 14 22 4"/>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
          </svg>
        </div>
        <div class="stat-content">
          <h3>{{ stats().procesosPublicados }}</h3>
          <p>Publicados</p>
        </div>
      </div>

      @if (rolUsuario() === RolUsuario.ADMIN) {
        <div class="stat-card info">
          <div class="stat-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
          </div>
          <div class="stat-content">
            <h3>{{ stats().totalUsuarios }}</h3>
            <p>Usuarios</p>
          </div>
        </div>
      }
    </div>

    <!-- Accesos Rápidos -->
    <div class="quick-access">
      <h2>Accesos Rápidos</h2>
      <div class="quick-access-grid">
        @if (rolUsuario() === RolUsuario.ADMIN || rolUsuario() === RolUsuario.EDITOR) {
          <a routerLink="/procesos/nuevo" class="quick-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"/>
              <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            <span>Nuevo Proceso</span>
          </a>
        }

        <a routerLink="/procesos" class="quick-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
            <path d="M2 17l10 5 10-5M2 12l10 5 10-5"/>
          </svg>
          <span>Ver Procesos</span>
        </a>

        @if (rolUsuario() === RolUsuario.ADMIN || rolUsuario() === RolUsuario.EDITOR) {
          <a routerLink="/roles-proceso" class="quick-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="8.5" cy="7" r="4"/>
              <line x1="20" y1="8" x2="20" y2="14"/>
              <line x1="23" y1="11" x2="17" y2="11"/>
            </svg>
            <span>Roles de Proceso</span>
          </a>
        }

        @if (rolUsuario() === RolUsuario.ADMIN) {
          <a routerLink="/usuarios" class="quick-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
            <span>Gestionar Usuarios</span>
          </a>

          <a routerLink="/empresas" class="quick-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
            </svg>
            <span>Mi Empresa</span>
          </a>
        }

        <a routerLink="/perfil" class="quick-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
          </svg>
          <span>Mi PerfilComponent</span>
        </a>
      </div>
    </div>
  }
</div>
