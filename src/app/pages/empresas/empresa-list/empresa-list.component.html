<div class="container">
  <div class="header">
    <h1>Empresas</h1>
    <a routerLink="/empresas/nuevo" class="btn btn-primary">
      <span class="icon">âž•</span>
      Nueva Empresa
    </a>
  </div>

  @if (loading()) {
    <div class="loading">Cargando empresas...</div>
  } @else if (error()) {
    <div class="error">{{ error() }}</div>
  } @else if (empresas().length === 0) {
    <div class="empty-state">No hay empresas registradas</div>
  } @else {
    <div class="table-container">
      <table>
        <thead>
        <tr>
          <th>Nombre</th>
          <th>NIT</th>
          <th>Correo</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
          @for (empresa of empresas(); track empresa.id) {
            <tr>
              <td>{{ empresa.nombre }}</td>
              <td>{{ empresa.nit }}</td>
              <td>{{ empresa.correo }}</td>
              <td>
                @if (empresa.activo) {
                  <span class="badge badge-success">Activo</span>
                } @else {
                  <span class="badge badge-danger">Inactivo</span>
                }
              </td>
              <td>
                <div class="actions">
                  <a [routerLink]="['/empresas', empresa.id, 'editar']" class="btn btn-edit">
                    Editar
                  </a>
                  <button (click)="eliminar(empresa.id)" class="btn btn-delete">
                    Eliminar
                  </button>
                </div>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
